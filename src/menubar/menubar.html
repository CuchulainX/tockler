<template>
    <section class="au-animate">
        <p class="container">

            <form validation-errors.bind="errors">
                <md-collection>
                    <md-collection-item if.bind="!runningLogItem">
                        <div class="row" style="margin:0">
                            <div class="col s4">
                                <md-input md-label="Group" md-value.bind="newItem.app & validate"></md-input>
                            </div>
                            <div class="col s6">
                                <md-input md-label="Title" md-value.bind="newItem.title & validate"></md-input>
                            </div>
                            <div class="col s1" style="margin-top:20px">
                                <md-input md-type="color" md-value.bind="newItem.color & validate"></md-input>
                            </div>
                            <div class="col s1" style="margin-top:25px">
                                <a class="btn-flat waves-effect btn-floating" click.delegate="startNewLogItem(newItem)">
                                    <i class="zmdi zmdi-play-circle blue-text"></i></a>
                            </div>
                        </div>

                    </md-collection-item>
                    <md-collection-item css="border-left: 5px solid ${runningLogItem.color}" if.bind="runningLogItem">
                        <div class="row" style="margin:0;margin-top:22px;">
                            <div class="col s4">
                                ${runningLogItem.app}
                            </div>
                            <div class="col s7">
                                ${runningLogItem.title}
                            </div>

                            <div class="col s1">
                                <a class="btn-flat waves-effect btn-floating" click.delegate="stopRunningLogItem()">
                                    <i class="zmdi zmdi-stop blue-text"></i></a>
                            </div>
                        </div>
                        <div class="row" style="margin:0;">
                            <div class="col s4">
                                <span>  <small>${item.beginDate | formatDate}
                            <b> ${item.endDate.getTime()-item.beginDate.getTime() | msToDuration}</b></small>
                        </span>
                            </div>
                        </div>
                    </md-collection-item>
                    <md-collection-header>
                        <h5>Last tasks</h5>
                    </md-collection-header>
                    <md-collection-item css="border-left: 5px solid ${item.color}" repeat.for="item of trackItems">
                        <div> <b>${item.app} </b> ${item.title}
                            <div class="secondary-content">
                                <a class="btn-flat waves-effect btn-floating" click.delegate="startNewLogItem(item)">
                                    <i class="zmdi zmdi-play-circle blue-text"></i></a>
                            </div>
                        </div>
                        <span>  <small>${item.beginDate | formatDate} - ${item.endDate | formatDate}
                            <b> ${item.endDate.getTime()-item.beginDate.getTime() | msToDuration}</b></small>
                        </span>

                    </md-collection-item>
                </md-collection>
            </form>

    </section>
</template>